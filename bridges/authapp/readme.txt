1. В файле проекта bridges/settings.py обязательно указать строку:
AUTH_USER_MODEL = 'authapp.Users'

2. Мы переопределили существующую модель User моделью AbstractUser, а это сильно влияет на построение всей базы в целом.
Поэтому, приходится часто удалять целую базу данных и заново ее создавать.

3. Для обработки поля ImageField необходимо установить графическую библиотеку Pillow, используя команду:
pip install pillow

4. По умолчанию все новые зарегистрированные пользователи не активированы. Менеджер компании по телефону связывается с
пользователем, подтверждает его личность и активирует аккаунт (галочка в админке). Только активированные пользователи
могут авторизоваться на сайте.

5. Ограничение доступа пользователя к закрытой информации на сайте:
{% if user.is_authenticated %}
    <p>Приватный блок кода.</p>
{% else %}
    <p>Данная информация видна только зарегистрированным пользователям.<br>
    <a href="{% url 'auth:login' %}">Войдите на сайт</a>.</p>
{% endif %}

6. Вы можете ограничить доступ к целому контроллеру, используя декоратор:
from django.contrib.auth.decorators import login_required

@login_required
class UserLoginView(LoginView):
...

7. Для работы Google ReCaptcha v2 необходимо установить:
pip install evileg-core


===================================================================================================================

История разработки приложения - чек-лист из Trello:

спроектировать базу
создать приложение
создать модель
сгруппировать поля для заполнения в админке
создать страницу входа
создать страницу выхода
Поле телефон сделать обязательным для заполнения
создать модель КатегорияКомпании
создать модель Компании
Модель Пользователя наследовать от User, а AbstractUser и проверить права доступа
В модели Пользователя изменить поле компании - сделать ссылкой на модель Компании
подключить 2 новые модели (КатегорияКомпании и Компании) к встроенной админке и настроить управление моделями
поле name_company сделать обязательным к заполнению
сократить названия атрибутов в моделях в однословные
расширить список форм компании - государственные добавить
переименовать модели в ед число
сделать понятнее функцию get_category_company
прописать docutils для моделей и функций, вместо комментариев
Создать базовый шаблон Авторизации, а уже в него вставлять различные блоки (сообщения, формы, кнопки) в зависимости от условий авторизации на сайте.
Категорию компании сделать обязательным полем
создать страницу профиля (чтобы пользователь мог посмотреть, что известно компании о человеке, но не мог это редактировать).
добавить в модель Company логотип организации - добавить картинку по умолчанию
Доработать заголовки для уже реализованных шаблонов
реализовать регистрацию нового пользователя на сайте - всего 3 обязательных поля: логин, пароль и телефон.
в шаблоне в шапке сайта вместо корзины добавить иконку профиля
Изменить форму логина - добавить placeholder'ы
Реализовать функцию смены пароля для пользователя
проверить ограничение просмотра пользователем
подключить приложение к стандартной админке
настроить вывод полей в стандартной админке
добавить поле пола человека
добавить поле день рождения
по умолчанию новый пользователь не должен быть активирован
добавил новую модель FormCompany
в папке приложения создать файл readme.txt с описанием и инструкциями использования возможностей приложения
Для не авторизованных пользователей при доступе к смене пароля или к профилю необходимо перекидывать на страницу авторизации
Создать тесты: проверка ссылок и ответов сервера, проверку авторизации на сайте
Реализовать функционал сброса пароля
Создать тесты №2: логаут, регистрацию пользователя.
Запретить регистрацию для авторизованных пользователей
Написать валидатор данных при регистрации пользователя
Дополнить тест регистрации пользователя с ошибочными данными
Расширить тест проверки страниц приложения
Реализовать страницу успешной регистрации пользователя и перекидывать на нее после регистрации.
Написать валидацию полей, чтобы проверять очень короткие и длинные поля, а также недопустимые символы, например, почта без собачки.
Настроить вывод ошибок возле форм
Защитить форму регистрации от СПАМа (возможно, Google Captcha)
Баг: при сохранении пустых имени и фамилии пользователя - выдает ошибку.
При добавлении в поле компании адреса длинее по количеству символов чем позволено, появляется ошибка страницы
---
Всего выполнено 49 задач.

====================================================================================================================
